> # Lab Session on OVB 
> ## OVB
> library(data.table)
> #Open the new OVB dataset:
> ## store it in your documents folder and try accessing it directly. 
> df.OVBdat <- read.table("OVBData.RData")
> dt.OVBdat <- data.table(df.OVBdat) 
> #summary(df.OLSdat)
> summary(dt.OVBdat)
       y2                y3              const         x1                  x2                  x3          
 Min.   :-12.455   Min.   :-12.963   Min.   :1   Min.   :-1.403617   Min.   :-3.858876   Min.   :-4.15855  
 1st Qu.: -1.326   1st Qu.: -1.395   1st Qu.:1   1st Qu.:-0.203414   1st Qu.:-0.667840   1st Qu.:-0.64499  
 Median :  1.011   Median :  1.006   Median :1   Median : 0.006395   Median : 0.000667   Median : 0.01788  
 Mean   :  1.020   Mean   :  1.022   Mean   :1   Mean   : 0.007294   Mean   : 0.002929   Mean   : 0.02059  
 3rd Qu.:  3.296   3rd Qu.:  3.378   3rd Qu.:1   3rd Qu.: 0.220077   3rd Qu.: 0.672143   3rd Qu.: 0.68471  
 Max.   : 15.806   Max.   : 15.882   Max.   :1   Max.   : 1.443620   Max.   : 4.609107   Max.   : 3.92997  
       x4                  x5                 eps1                eps2          
 Min.   :-3.998143   Min.   :-3.729175   Min.   :-5.580878   Min.   :-57.91689  
 1st Qu.:-0.680504   1st Qu.:-0.670531   1st Qu.:-0.955427   1st Qu.: -9.29787  
 Median : 0.010568   Median :-0.006407   Median :-0.000302   Median : -0.05888  
 Mean   : 0.002841   Mean   :-0.002854   Mean   : 0.004247   Mean   :  0.05165  
 3rd Qu.: 0.681077   3rd Qu.: 0.667053   3rd Qu.: 0.974536   3rd Qu.:  9.35215  
 Max.   : 4.460131   Max.   : 4.351359   Max.   : 6.115803   Max.   : 56.09454  
> #Now try to explore the data, and specifically the correlations in the data. 
> cor(dt.OVBdat$y2, dt.OVBdat$x1)
[1] 0.3623093
> # you can also google for how to show a Var-Cov Matrix in R
> # now, x2 and x3 are correlated to x4 and x5. Can you tell the correlations?
> cor_x2_x4 <- cor(dt.OVBdat$x2, dt.OVBdat$x4)
> cor_x2_x5 <- cor(dt.OVBdat$x2, dt.OVBdat$x5)
> cor_x3_x4 <- cor(dt.OVBdat$x3, dt.OVBdat$x4)
> cor_x3_x5 <- cor(dt.OVBdat$x3, dt.OVBdat$x5)
> # for convenience let's rename our data-table.
> DT <- dt.OVBdat
> DT$y2
   [1] -1.4673703517  2.4084799570  2.6729149749  0.6899023197  0.8576719377 -4.3146007182  0.5060892059
   [8]  1.3548719159  2.4555090014  1.7374033545  4.7698990598  8.0034622261  0.3766989807  2.5914410516
  [15] -0.9585430627 -0.5468794251 -0.0164573835 -3.4759141439 -0.1458360326  1.7565678331  1.4361025819
  [22] -3.2927362199 -3.4000399648  3.3044885284 -1.1061181381  3.9701824454 -1.1864570717 -1.8319145008
  [29]  2.4548448074 -0.3840274404  5.6222480193 -0.0693443367  4.0689047194 -0.8115480527 -2.9865480121
  [36] -4.0811837811  1.9760965650 -0.5632253690  1.2656220891 -2.9728835204  0.9006130681 -1.4118696828
  [43]  2.4940996135  0.8973481531  1.2165136721  0.2270721319  4.4947491575 -0.2384630516 -3.5169190554
  [50]  1.3380937294 -3.9630899453 -4.0605903174  4.5279571524 -2.6131399177  3.8852578161  3.6637003600
  [57]  1.0733940848  4.1165633923  0.9811897062  2.3326747930  3.2083525255  4.4774974463  1.9959522347
  [64]  4.4223760953  6.4475428358  3.2833028727  3.0240034256 -0.5590804564  2.7435387233 -2.9677945881
  [71] -0.6987772362 -2.1542244154 -8.5488676374 -0.6397364769 -1.1142009769 -0.1618718741  0.5716448582
  [78]  2.4532224916  2.6651443647  2.5471830142 -2.0202343364 -2.1616304163  3.7902354099 -2.8912518989
  [85]  5.5142492017 -2.8294618238  1.3161407210  6.1168143323 -6.3003382283  4.3602039706  3.3250099953
  [92]  0.1332507086  4.4194079178  1.0008167885  4.7022870835  8.5215257549  5.7405842575  8.8960468735
  [99]  4.6735062896 -5.0254655456 -2.2837734806  1.0515621752 -0.6962429158  0.0868990406  4.9228526694
 [106]  2.5122256598  3.7641454097 -1.7453328283  2.4694227332 -2.6317162827 -6.7099994720 -0.2161174187
 [113] -4.2634715907  9.0260375703  1.1576345145 -2.9724789930  4.1136301817 -2.0074778502 -2.0368755183
 [120]  0.8300021915  3.0000453462  0.8869597436 -5.3442917455  2.3299692974 -1.2253378214 -1.6644622912
 [127]  3.3591972574 -1.0795217090  3.2431078202  2.9862965310  1.7633975212 -2.2785002613 -0.7388021028
 [134]  0.2294735763 -0.4325306686  1.3205388972  0.2496142298  2.6432655055  1.6306504298 -0.4666624595
 [141] -5.1824537965  2.2477947168  3.2085044042  0.1548881215  2.2291130892  3.3408345121 10.8489584405
 [148]  1.4796985248  0.8186275067  1.6831334550  0.0874324117 -3.1244446599 -1.1352295449  2.2181046726
 [155] -0.4868151212  0.6070223916  0.6265497570  7.6559612038  5.6203900752 -1.8054016786  0.7353003097
 [162]  4.8616103174  1.7344171779 -4.9842270520 -1.2772083559  6.1654924469  2.0094921071  3.9857488451
 [169]  0.0749482251 -5.5947979184 -0.6851019743  2.6782759166  1.9921080015  2.8780897571  0.1193282231
 [176]  1.8302234320  3.7977526712 -3.6848857801  1.4459409562  1.3324020307  6.0677228262  2.6989741493
 [183] -2.1774789922 -1.5662715969 -0.2533601134  2.8161422831  0.3346718642 -0.3201658829  1.6911706127
 [190]  1.8977635534 -0.7817435116 -1.6144619994  3.2468665130 -4.5821653347  3.7809336303  1.7251003653
 [197]  0.1232350377 -0.3786517138  4.4517081648  2.2436418808  1.7028431863 -4.0646577830 -7.7598009688
 [204]  4.3729203337  0.6491409959  1.3912009663 -0.1649145087  1.1351947377 -1.0019378735 -0.4822462232
 [211] -0.6653730440  4.9205810442 -3.0918859647  3.4375585847 -2.3562894747  5.0846585713  0.9682742041
 [218]  0.7704501125  2.0054834930 -2.0711788787  1.5131056257  2.4257641299  0.5375179904 -0.1980891974
 [225]  0.0557491053 -0.4454209568  2.3051842428  2.0026245455  0.2667126388  2.2597473431 -2.8376048104
 [232]  4.7469875040 -3.0698520355  0.9730137937 -0.6415532634  3.5070586109  4.4148595382 -4.2102505465
 [239] -2.9028077120  2.0837983378 -2.7899118904  2.5294177359  0.7790885388 -4.8246150604  3.7074434402
 [246] -1.4008863091  0.2660732550  7.5454765745 -2.4022519030  2.3972788355 -1.8471974337  5.4138240289
 [253]  3.2080563541  4.4309206020  4.6050725285  5.2548555561  2.1628913240  1.8061140216  6.2930016354
 [260]  0.0291321075  3.0596021928  7.2071741483  0.3546896679  2.7903093055  2.9095624084 -0.3947245051
 [267]  2.5520974135  0.6547013491  0.7930076494  0.1385761143 -2.6343347536  3.2503357078  7.6161973541
 [274]  4.1467523863 -0.6307690900  0.2498836989  1.6006938551 -0.2840723424 -0.2250414818  8.6220855463
 [281] -3.6451426745 -2.4710424461  2.1039533774 -3.5307179692  2.2172369463 -0.9332615508 -1.8260783952
 [288]  6.2325635018 -1.4393999338 -0.2544929486 -6.5792367633  5.0653489018  6.6951155526  3.2888343901
 [295] -1.9984585370 -3.1902372215  4.8955285234  3.4356331225  6.1541232463  9.0002101840  5.1096853365
 [302]  1.9437527185  1.0188530921  1.5773555817  4.2132203107  0.2443949957  2.2769486249  1.2686898655
 [309] -1.1783149493  1.0873744326  5.2585666578 -2.6507495214 -3.8321901957  4.6916426641  3.1682661434
 [316]  6.7484665855  2.6469562446  0.4774984339  1.7574304292  1.1980407065 -0.9080879068 -0.5258978117
 [323] -1.0761783485  1.3000475754  0.9649159646  1.5113815041  3.0564117856 -0.7829537477 -1.5086850940
 [330]  0.1891808350  1.5703621690 -1.5119025194  0.1755910729  6.8984324562  0.6793658755  1.2465706693
 [337] -0.9850433466 -2.5469947329 -0.5411593223 -5.5313059913  1.4729108660 -1.0934908949 -2.4950433285
 [344]  5.1732115672  5.2985024675 -2.8045731987  0.3049132965 -4.4306939775  1.7055629262  1.6673488613
 [351] -3.2520057182  1.5782589262  3.7488532209  1.3708974086  2.2790942806  5.8716602298  1.1922693282
 [358]  5.8781472679  4.6014799452  1.8324259399  5.4034172985  0.2967087085 -4.0358843573 -1.3672175068
 [365] -2.0936568092  2.2974551730 -4.4334057960  2.3958853997  0.6889945695  3.8212710506 -1.6111981368
 [372]  0.6134503152  0.0516476576  2.5874119764  4.1816210115 -1.1053608830 -6.4630132648 -2.0316656896
 [379]  1.9523796201 -1.4459295377  3.9899724481  2.2265015990  1.4625609948  6.1918399020 -3.8804433977
 [386] -7.5111938627 -0.0399253659 -2.3359821060 -3.4406776521 -4.9354801551  1.5901692169 -2.4359069004
 [393]  3.7255859159  5.1898691284 -1.4554666831 -3.5899623417  0.3621407680 -0.7340771510 -6.9502348268
 [400] -5.0962654680  2.5167680126  0.6492828897  5.0246174230 -4.5262517240 -9.6571582111  1.1357316217
 [407] -4.3445434710  4.3033496952 -3.1380741154  6.5952727606  3.9072751803  0.0971721456  3.8107136095
 [414]  3.4221497952 -5.8045090284 -1.0386247523  4.9725996175  5.7025731498  3.8230639758  0.7107583256
 [421]  2.6371870549  0.2468011870  2.2428087036 -0.3170226506 -0.0189536830  2.2980362338  8.1527781740
 [428] -2.9338284635  3.8627226409  2.3658269160  2.1450698223  1.4476658952 -0.3200946602 -0.0778017511
 [435]  0.7833441322  1.8321994422 -2.0082509880  2.0835343501  0.3196582508  3.6130327569  3.4520065977
 [442] -1.7894286080 13.7279179840  5.1109107212 -0.2503723238  0.7702202991 -1.0587402371  6.4799935294
 [449] -0.2121521535  1.5917317965  0.6426407289 -3.4296190007 -0.9868719577  1.6319115055  2.6678049292
 [456]  1.7709471143 -4.5924884499  0.6918259167  2.9850207156 -4.0247030121 -0.2131414920 -5.6738337408
 [463] -1.0238692995  0.2656293494  1.8407096420  5.3309546112 -0.0779476046  0.8625038571  0.4097196732
 [470]  2.8982993345  0.5982984954 -2.3821959821  4.1388008253  0.0084131970  1.2896755318  6.1142957060
 [477]  3.4085997232  2.1875829639  1.8765937298  2.1343243533 -3.4864433979  5.3503044255  1.8584599986
 [484] -1.5319133404  5.4898962697 -4.3213357752 -2.1528714030 -6.1529979823  1.7119015955 -1.8094268132
 [491] -0.6680569055  0.5386533349  8.3497819501  3.3552622781  3.8634684754  3.3884196280  1.8544887160
 [498]  7.7553269065 -2.7565002664  2.5257724341  4.5179491309  3.4639751933  5.5250679926 -0.0121521542
 [505]  5.6940998927 -2.0779279644 -4.3662253534 -1.5159676403 -1.4284871388  2.0009664967  1.1413213109
 [512] -1.8772396457 -0.1117677049  3.0707764860 -0.7567423849  0.9002634180 -3.0620461657  2.1143357529
 [519]  2.9537587862  7.9181458372  0.4940348607 -1.9474894836 -0.6226090064 -1.9995021734 -1.1685736006
 [526]  1.8815792183  7.3822342554 -1.1527750195  4.8143403450 -0.2224741356 -0.1937400253 -5.4578065805
 [533] -0.7797272629  0.9016874609 -1.4742963476  1.1647773185  5.5953689273  1.8429967326  2.0946018021
 [540]  3.9895499032 -2.7448302144  2.8182700798  3.5488638289  6.6368891333  6.4310379444  3.5676348873
 [547]  3.0440685510  1.7700544659  1.5403337777 -1.4731699608 -0.5034664777 -3.8544674566  3.3200383546
 [554] -3.2954699811  0.5407628905  4.1330393249 -2.4263369592  0.9762224382  6.6445521052  7.6079347090
 [561] -0.6141757195 -4.9597793409  3.6875633821 -0.2669153416  1.7258249977 -1.7183565726  3.6364689845
 [568]  5.1602278853  1.5188864014  0.1314632716 -4.1200143583  1.2511840782 -0.1785656675 -5.8813390168
 [575]  0.0382211904  2.3324289139 -5.2776939329 -3.2927973466  1.0225352236 -3.3547314151 -1.6181107726
 [582]  5.5066794981  0.3977006508  6.2509147494 -0.2995051156 -2.1355773424  0.3979358347  0.0352220260
 [589]  1.2117805504 -1.1005397807 -0.4057896951  0.3995156397  0.2789257597 -0.2707031564  4.9717710825
 [596]  0.5098666131  7.5391775284  1.4584899381 -1.6986397343  1.2771863227 -1.0657802538  0.6918739592
 [603] -3.0458965301  5.0000913935 -2.8761977240 -2.0178310772  2.8441422460  3.2948834903 -0.0005828588
 [610]  1.2458416980  5.1963774905  0.9277261447 -1.6545807553  3.3023442405  6.6055165174  5.2104573117
 [617]  2.5577753421  1.6638944592 -5.8603848313  2.6064610620 -4.4025313927  1.7638837086 -3.0207523863
 [624] -5.2209628380  1.8617223330  8.9874512795  2.0781494367 10.4547682409 -3.6808383856 -2.9217063281
 [631] -1.6350201018  1.0514963140  4.0818518729  1.9905083925  6.2000321694  0.2148237451  0.6611638959
 [638]  5.2977402124 -0.1662811848  5.0802262852  3.4138180474  1.7225411509  2.0594724722  4.1472614125
 [645]  1.5348817548  1.2599804246  6.2735348268 -0.0554825825  6.5547197715 -1.2370941062 -0.5646438292
 [652]  0.6126863338  4.5024052040  0.7766270271  1.5674672221  6.3145345111  6.1696284799 -0.0611042245
 [659] -0.6754662855  8.5867456826 -0.1855771441  3.0910391028 -1.5208487309 -2.4376261840  6.7612050366
 [666]  1.5712305992 -1.3027154680  3.6123061175  1.4285068726 -1.4427161651  4.3239315101 -0.7728296293
 [673]  3.5874532109  3.5693867678 -2.2047973356  0.7372666703 -0.8749843144  3.5158705737 -5.9527400176
 [680] -0.4558521313  2.6572850134 -1.7974124053 -0.1515009212 -2.4065140325  5.2738076031  1.7471297739
 [687] -0.1932699451 -1.5395106917  1.9624169495 -2.2653697760  5.3175942211  0.6323197757  2.2464534240
 [694] -2.1854511262 -1.2658225000  3.2303255250 -4.0852551528  1.3358952955  2.0327859723  7.1490365500
 [701]  5.6295449313 -2.8764431305  4.6928774706 -3.6658248016  2.6814912494  2.6692040192  1.4363850668
 [708]  3.6225564915  1.8117549294 -1.3309743368  0.9288648425  1.2949259181  3.8269082771 -0.5669359494
 [715] -3.2916393272 -1.0213031510  3.5359411849  4.5675159808 -1.2176550274 10.1757208488 -4.8985036988
 [722]  2.1890599986  1.6931070979  1.4457226349  0.9251921596 -8.9712391404 -0.0229266855 -1.6086948101
 [729]  2.1976087376  0.9594486359 -1.7643214467 -2.2206573478  4.5824088904  1.1867258507  2.0414155612
 [736]  6.8725888547  3.0102002158 -1.6585107999 -1.0322956822  7.2486040836  1.2540907267 -1.3595678465
 [743]  0.2356123740  5.8904443476  4.6233897408  3.4026782827 -2.9930804644  0.0646804174  3.6985508250
 [750]  0.3832460845  0.3292204473 -0.2130459522  3.8126044033 -0.2479710968  5.8841420068  0.8819053696
 [757]  2.6837591077 -0.8595916487  3.9441354838 -2.8328565977  8.0650297203  7.0105052107 10.1092077753
 [764] -0.2353272370  3.0261142777 -6.4752448740 -3.7160735767  3.5299412654  7.1169383876  2.8135057493
 [771]  2.0018476096  7.1401362319  2.7440076858 -0.6622713734 -0.9293625920 -3.1664777295  1.6844117543
 [778] -2.8728980952  8.2997491144  0.5923635770  4.3221018535  4.1968046593  3.2961966893 -2.8108431540
 [785]  4.8065670622  5.7972314500 -4.2689663187 -0.4383065206  1.0619162018  1.1233606948  2.6646713175
 [792]  3.1232921599  1.7250541273 -1.4224449442 -0.3263540128  4.1483493624  6.4301268530  3.1423086928
 [799]  0.1560734651  7.3545271319 -0.3352196059  1.1386318415 -1.7631427842 -1.6748822594 -0.5717736863
 [806]  2.5348739482  0.6689083220  0.1264939044  2.2805928600  0.9244266400  2.1516523260  1.6123734476
 [813]  1.8118406727 12.2368978179 -1.9731433900 -2.9069345535  5.6593873620 -1.3283426421 -2.0404376548
 [820] -0.0915772662  3.0566579968 -3.1245257268  1.6127037553  1.4542989824 -1.3959458276  3.5864803861
 [827]  0.1692962132  4.4576019881 -7.4016703929  2.6836496658 -2.5035615887 -3.6700168560 -5.5898634001
 [834] -1.3229234180 -1.8364884167  1.6468459906  4.3390724337 -1.0445266126  5.1968129920 -0.1652686061
 [841]  3.4266424757 -0.9433035728 -1.0511756626 -1.7836675818  5.3263547900 -6.4542419238  1.2423721771
 [848]  3.8556423942 10.9027718366  0.9810723750 -0.4942250403  2.6322426563 -0.2015836972  1.4689392270
 [855]  4.7376264845 -2.9590629261 -5.0887035628  0.0291842648 -0.2323263148  7.5745015389 -1.1543903892
 [862] -1.0159536438  4.4779193597 -3.9799762679  0.1486746409 -0.9058731887 -5.4519349680  2.4257284888
 [869] -4.8165550964 -3.9910947667  0.3677014202 -2.1253185972  2.6095958919  1.9610009677 -1.5692403341
 [876] -1.0059148425 -4.5986234915 -2.7239126873 -0.3511415546  6.9564519129  3.2363330521 -1.5497331678
 [883]  2.9820465850  1.1780994681  1.9973421918  1.3152276922 -5.2576673171  1.8395903529 -3.9651976586
 [890] -1.7242024756  1.3372406647  9.2848138213  2.5840119963 -4.2429141415 -0.2537189492  2.0407584515
 [897] -1.1586604646  0.6414383969 -0.0805070844 -1.6088560941  5.5992052770  3.8402437158 -2.0148367582
 [904]  0.8519517039  3.9753862197  2.7302610251 -4.0293461822  0.9109545079  3.1146315195 -1.1142331062
 [911] -8.1902247829 -1.3143107442  2.1100249230  0.4780664624  0.1300757852 -0.1955497101 -1.5837211796
 [918] -2.9849070520 -3.3676234857  6.3979675826 -3.7952264173 -0.5522459252  3.0827755860 -4.4571887886
 [925]  4.4545461140  0.4830077184 -4.8566289548 -2.5449765992  5.7462945583  1.1836915376  2.5560734966
 [932]  6.7524183716  2.6969581712 -1.2989045635  0.3328361977  0.2031869309  5.1257503475 -4.0309396607
 [939]  3.1660762002  7.3016324636 -2.7980571480  4.6176706277  7.1526089311  3.7734248457  4.0373529069
 [946] -5.8394874692 -0.7142851227  3.0726282986 -1.8717418829 -6.1881867198  3.6508692147  1.5831899953
 [953]  0.7804080063  1.8822752080 -1.0200936752  3.0653896812  2.1373048553 -0.4135196608  3.6505198108
 [960]  2.2097901999 -4.4676405727 -3.4006298390 -2.9948955681  4.0680902284 -4.9395422286  0.6740938696
 [967]  2.2940818359 -4.3552099573  4.3288526460 -2.5624867820  2.7751878889  0.8444364347  1.2195813255
 [974]  2.1968888090  5.9841882032  0.8717329588  4.6108050672  3.2629751572  7.7197340851  0.3702860303
 [981]  3.0388140527  2.6017981987 -0.7117130367  5.7038242087 -1.9106727422 -2.6566858388  1.6203670583
 [988]  1.3480395853  2.1689771470 -2.3601340003  0.9049237329 -2.1929012077 -2.5506457279 -3.7695742733
 [995]  6.2629827337 -1.8582121280 -0.2400153079 -2.3553888373  4.8085045488 -3.1088736588
 [ reached getOption("max.print") -- omitted 16584 entries ]
> lm_y2_x1 <- lm(y2 ~ x1, data = DT)
> lm_y2_x1_x4 <- lm(y2 ~ x1 + x4, data = DT)
> lm_y3_x1 <- lm(y3 ~ x1, data = DT)
> lm_y3_x1_x5 <- lm(y3 ~ x1 + x5, data = DT)
> 
> #consider beta1 and beta2 (when applicable) and beta3, 
> #consider beta1 and beta2 (when applicable) and beta3, 
> ## => How often do you think x you could get an unbiased estimate of each respective beta?, and 
> 
> 
> #This is how I generated y2 and y3:
> #This is how I generated y2 and y3:
> #y2 =  constant + 2.72123*sevenvars[1] + 0.2147*sevenvars[2] + 0.56*sevenvars[3] + 0.0008*sevenvars[4] + eps[, 3]
> #This is how I generated y2 and y3:
> #y2 =  constant + 2.72123*sevenvars[1] + 0.2147*sevenvars[2] + 0.56*sevenvars[3] + 0.0008*sevenvars[4] + eps[, 3]
> #y3 =  constant + 2.72123*sevenvars[1] + 0.2147*sevenvars[2] + 0.56*sevenvars[3] +  0.843*sevenvars[4] + eps[, 3]
> #This is how I generated y2 and y3:
> #y2 =  constant + 2.72123*sevenvars[1] + 0.2147*sevenvars[2] + 0.56*sevenvars[3] + 0.0008*sevenvars[4] + eps[, 3]
> #y3 =  constant + 2.72123*sevenvars[1] + 0.2147*sevenvars[2] + 0.56*sevenvars[3] +  0.843*sevenvars[4] + eps[, 3]
> #and here is the Var-Cov Matrix:
> 


> # Revisit the questions above, but from a theoretic perspective: 
> ## => How often could you get an unbiased estimate of each respective beta?, and 

## =>Sample size plays a crucial role in obtaining unbiased beta estimates in regression analysis. 
#The larger and more representative the sample, the closer the estimated beta coefficients will be to the true population values, 
#assuming the model assumptions are met and the data generation process is well-understood.
